\documentclass[12pt]{article}
\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{ wasysym }
\usepackage{ stmaryrd }
\usepackage[dvipsnames]{xcolor}
\usepackage[top=20mm, bottom=20mm, left=30mm, right=10mm]{geometry}
%Markup
\newcommand{\TYPE}[1]{\textcolor{NavyBlue}{\mathtt{#1}}}
\newcommand{\FUNC}[1]{\textcolor{Cerulean}{\mathtt{#1}}}
\newcommand{\LOGIC}[1]{\textcolor{Blue}{\mathtt{#1}}}
\newcommand{\THM}[1]{\textcolor{Maroon}{\mathtt{#1}}}
%META
\renewcommand{\.}{\; . \;}
\newcommand{\de}{: \kern 0.1pc =}
\newcommand{\extract}{\rightarrowtriangle}
\newcommand{\where}{\LOGIC{where}}
\newcommand{\If}{\LOGIC{if} \;}
\newcommand{\Then}{ \; \LOGIC{then} \;}
\newcommand{\Else}{\; \LOGIC{else} \;}
%%STD
\newcommand{\Int}{\mathbb{Z} }
\newcommand{\NNInt}{\mathbb{Z}_{+} }
\newcommand{\Reals}{\mathbb{R} }
\newcommand{\Nat}{\mathbb{N} }
\DeclareMathOperator*{\centr}{center}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\id}{id}
\DeclareMathOperator*{\im}{Im}
\newcommand{\EqClass}[1]{\TYPE{EqClass}\left( #1 \right)}
\newcommand{\Cate}{\TYPE{Category}}
\newcommand{\Func}[2]{\TYPE{Functor}\left( #1, #2 \right)}
\mathchardef\hyph="2D
\newcommand{\Surj}[2]{\TYPE{Surjective}\left( #1, #2 \right)}
%%ProofWritting
\newcommand{\A}{\LOGIC{Assume} \;} 
\newcommand{\As}{\; \LOGIC{as } \;} 
\newcommand{\E}{ \; \LOGIC{Extract} } 
%LinearAlgebra
%TYPES
\newcommand{\VS}[1]{\TYPE{VectorSpace}\left( #1 \right)}
\newcommand{\Lin}[1]{\mathcal{L}\left( #1 \right)}
\newcommand{\vs}[1]{\mathsf{VS}\left( #1 \right)}
\DeclareMathOperator*{\rank}{rank}
%FUNK
\DeclareMathOperator{\rk}{rank}
%Manifolds
%TYPES
\newcommand{\SManifold}{\TYPE{SmoothManifold}}
\newcommand{\SubMan}{\TYPE{SubManifold}}
\newcommand{\smooth}[1]{C^\infty\left( #1 \right)}
\newcommand{\CCurve}[2]{\TYPE{CentredCurve}\left(  #1, #2 \right)}
\newcommand{\Admis}{\TYPE{Admissible}}
\parindent=0em
%FUNC
\DeclareMathOperator{\cca}{chartCentredAt}
\DeclareMathOperator{\codim}{codim}
%TangentSpaces
%TYPES
\newcommand{\TS}{\TYPE{TangentSpace}}
\newcommand{\Germ}{\TYPE{Germ}}
\newcommand{\germs}[2]{\mathcal{F}_{#2}\left( #1 \right)}
\newcommand{\DirAt}{\TYPE{DerivationAtPoint}}
\newcommand{\dirAt}[2]{\mathrm{Dir}\left( #1 , #2 \right)}
\newcommand{\Phys}{\TYPE{PhysicalView}}
\newcommand{\Kin}{\TYPE{MovementDirection}}
\newcommand{\PManifold}{\TYPE{PointedManifolds}}
\newcommand{\PM}{\mathsf{PM}}
\newcommand{\TF}{\TYPE{TangentFunctor}}
\newcommand{\RegP}{\TYPE{RegularPoint}}
\newcommand{\CritP}{\TYPE{CriticalPoint}}
\newcommand{\RegV}{\TYPE{RegularValue}}
\newcommand{\CritV}{\TYPE{CriticalValue}}
\newcommand{\Zero}{\TYPE{Zero}}
\newcommand{\NonDeg}{\TYPE{NonDegenerate}}
\newcommand{\ConstRk}{\TYPE{ConstantRank}}
\newcommand{\Trans}{\TYPE{Transverse}}
%FUNC
\DeclareMathOperator{\alg}{alg}
\DeclareMathOperator{\fAlg}{fromAlg}
\DeclareMathOperator{\phys}{phys}
\DeclareMathOperator{\fPhys}{fromPhys}
\DeclareMathOperator{\kin}{kin}
\DeclareMathOperator{\fKin}{fromKin}
\newcommand{\tM}{\TYPE{TangentMap}}
\newcommand{\derT}{\TYPE{DerivationTransfer}}
\newcommand{\physS}{\TYPE{PhysicalShift}}
\newcommand{\kinT}{\TYPE{DirectionTransfer}}
\newcommand{\diff}{\TYPE{Differential}}
%THM
\newcommand{\Sard}{\THM{Sard}}
\newcommand{\MorseLemma}{\THM{MorseLemma}}
\newcommand{\LevelSubmanifold}{\THM{LevelSubmanifold}}
\newcommand{\TransThm}{\THM{Transversality}}
\newcommand{\TransPB}{\THM{TransversalPullbacks}}
\author{Uncultured Tramp} 
\title{Mersions.Know}
\begin{document}
\maketitle
\section{Immersions}
\subsection{Immersions}
\begin{flalign*} 
&\TYPE{ImmersionAt} :: \prod M,N : \TYPE{SManifold} \. M \to \; ?C^1(M,N) \\
& f : \TYPE{ImmersionAt}(p) \iff T_p f : \TYPE{Injective}(T_pM, T_{f(p)}N)
\\ \\
&\TYPE{Immersion} :: \prod M,N : \TYPE{SManifold} \.  ?C^1(M,N) \\
& f : \TYPE{Immersion} \iff \forall  p \in M \. f : \TYPE{ImmersionAt}(p) \\
\\ \\
&\mathrm{rank} \; f = \dim M 
\\ \\
& f :: \Reals^2 \to \Reals^3 \\
& f \de (u,v) \mapsto (\cos u,\sin u, v) \\
& T_{(u,v)} f =
\left[ 
\begin{array}{cc}
-\sin u & 0 \\
\cos u & 0 \\
0 & 1 \\
\end{array}
\right] \\
& - \sin u = 0 \Rightarrow - \cos u \neq 0 \Rightarrow  \rank T_{(u,v)} f  = 2 \\
& - \cos u = 0 \Rightarrow - \sin u \neq 0 \Rightarrow  \rank T_{(u,v)} f  = 2 \\
& \rank f = 2 \Rightarrow f : \TYPE{Immersion}(\Reals^2, \Reals^3) 
\\ \\
& f :: \Reals^2 \to \Reals^3 \\
& f \de (u,v) \mapsto (\cos u \sin v,\sin u \sin v, (1 - 2 \cos^2 v)\cos v) \\
& T_{(u,v)} f = f'(u,v) =
\left[ 
\begin{array}{cc}
-\sin u \sin v & \cos u \cos v \\
\sin v \cos u & \cos v \sin u \\
0 &    6\sin v \cos^2 v - \sin v    \\
\end{array}
\right] \\
& T_{0} f = f'(0) =
\left[ 
\begin{array}{cc}
0 &  1\\
0  & 0 \\
0 &    0    \\
\end{array}
\right] \\
& \rank T_0 f = 1 \Rightarrow  f \; ! \; \TYPE{Immersion}
\end{flalign*}
\newpage
\begin{flalign*} 
& f :: \mathbb{T}^2  \to \Reals^3 \\
& f \de (e^{i\theta_1},e^{i\theta_2}) \mapsto ((a + b\cos\theta_1)\cos \theta_2,
(a + b\cos\theta_1)\sin \theta_2, 
b\sin \theta_1) \\
& T_{(\theta_1,\theta_2)} f = f'(\theta_1,\theta_2) =
\left[ 
\begin{array}{cc}
-b\sin \theta_1 \cos \theta_2 & -(a + b\cos\theta_1)\sin \theta_2 \\
-b\sin \theta_1 \sin \theta_2 &  (a + b\cos\theta_1)\cos \theta_2 \\
b\cos \theta_1 &    0    \\
\end{array}
\right] \\
& \Delta^2_{1,2}(T_{(\theta_1,\theta_2)} f) =  -b(a + b\cos \theta_1)\sin \theta_1 \\
& \Delta^2_{1,3}(T_{(\theta_1,\theta_2)} f) =  b(a + b\cos \theta_1)\sin \theta_2 \cos \theta_1 \\
& \Delta^2_{2,3}(T_{(\theta_1,\theta_2)} f) =  -b(a + b\cos \theta_1)\cos \theta_2 \cos \theta_1 \\
& |a| > |b|, b \neq 0 \Rightarrow f : \TYPE{Immersion}(\mathbb{T}^2,\Reals^3) 
\\ \\
&\THM{LocallIdentity} :: \forall M,N : \TYPE{SManifolds} \. \forall p \in M  \forall f : C^\infty \; \& \: \TYPE{ImmersionAt}
(M,N)(p) \.
\\ & \kern 1pc \. 
\. \exists (U,x) : \TYPE{ChartCentredAt}(M,p) : \exists (V,y) 
: \TYPE{ChartCentredAt}(N,f(p)) : 
\\ & \kern 1pc  
 : f(U) \subset V :  x^{-1}fy = \id \oplus 0      
\end{flalign*}
\subsection{Embedings}
\begin{flalign*}
&\TYPE{Embedding} :: ? \TYPE{Immersion}(M,N) \\
&f : \TYPE{Embedding} \iff  f \in \TYPE{ISO}(M)_{\mathsf{TOP}}(M,f(M))
\\ \\
&\THM{EmbededManifolds} :: \forall f : \TYPE{Embeding}(M,N) \. f(M) : \TYPE{RegularSubmanifold}(N)
\\ \\
&\THM{EmbeddingMark} :: \forall f : \TYPE{Immersion} \; \& \; \TYPE{Injective}(M,N) \. M : \TYPE{Compact} \Rightarrow   f : \TYPE{Embeding}(M,N) \\
&\LOGIC{Proof}= \\
& \A   f : \TYPE{Immersion} \; \& \; \TYPE{Injective}(M,N) , \\
& \A   M : \TYPE{Compact}, \; \\
&  f : \TYPE{Injective}(M,N) \Rightarrow  f : \TYPE{Bijective}(M,f(M)), \\
&  f : \TYPE{Immersion}(M,N) \Rightarrow f : \mathcal{M}_{\mathsf{TOP}}(M,f(M))
\Rightarrow  f^{-1} : \TYPE{ClosedMap} (f(M),M)) \LOGIC{as} (1) , \\
&   M : \TYPE{Compact}, f(M) : \TYPE{Hausdorff} \Rightarrow f : \TYPE{ClosedMap}(M,f(M)) \LOGIC{as} 2 ,\\
&   (1,2) \Rightarrow  f : \TYPE{Iso}_{\mathsf{TOP}}(M,f(M)) \Rightarrow f : \TYPE{Embedding}(M,N);;\\
&  \forall f : \TYPE{Immersion} \; \& \; \TYPE{Injective}(M,N) \. M : \TYPE{Compact} \Rightarrow   f : \TYPE{Embeding}(M,N) \square 
\\ \\
&\THM{LocallEmbedding} :: \forall f : \TYPE{Immersion}(M,N) \. \forall p \in M 
\. \exists  U  \in \mathcal{U}(p) :  f_{\vert U} : \TYPE{Embedding}(U,N) \\ 
&\LOGIC{Proof}= \\
& \A   f : \TYPE{Immersion}(M,N) , \\
& \A   p \in M, \; \\
&  \TYPE{Immersion}(M,N)(f)(p) \Rightarrow  f : \TYPE{ImmersionAt}(M,N)(p) , \\
&  \TYPE{ImmersionAt}(M,N)(p)(f) \Rightarrow  T_p f : \TYPE{Injective}(T_p M,T_{f(p)}N) \Rightarrow \\
&   \Rightarrow \exists U \in \mathcal{U}(p) : f_{|U} : \TYPE{Injective}(U,N) \; \LOGIC{as} \; (1)  ,\\
&   \TYPE{LocallyCompact}(M)(p) \Rightarrow \exists V \in \mathcal{U}(p) : \overline{V} : \TYPE{Compact} \; \LOGIC{as} \; (2), \\
& W \de U \cap V, \\
&   \THM{EmbeddingMark}(f_{|W})(1,2)  \Rightarrow f_{\vert W} : \TYPE{Embedding}(U,N);;\\
&  \forall f : \TYPE{Immersion}(M,N) \. \forall p \in M 
\. \exists  U  \in \mathcal{U}(p) :  f_{\vert U} : \TYPE{Embedding}(U,N) \square 
\\ \\
&\THM{FieldEmbedding} :: \forall f : \TYPE{Immersion}(M,N) \. \forall X : \mathfrak{X}_f(M,N)
\. \\ & \kern 1pc 
\. \exists  U  : \TYPE{Open}(f(M)) :  \exists Y \in \mathfrak{X}(U) : X = Y \circ f \\ 
& \LOGIC{Proof} = \\
& \A  f  : \TYPE{Immersion}(M,N), \\
& \A  X : \mathfrak{X}_f(M,N), \\
& \THM{EmbededManifold}(f) \Rightarrow f(M) : \TYPE{RegularSubmanifold}(N), \\
& \A p \in M, \\
& Y(f(p)) \de X(p) , \\
& (V_{f(p)},x_{f(p)}) \de \TYPE{RegularSubmanifold}(N)(f(M))(f(p)) ; \\
& U \de  \bigcup_{p \in M} V_{f(p)}
\end{flalign*} 
\newpage
\begin{flalign*}
& \A q \in U, \\
& q \in U \Rightarrow \exists p \in M : q \in V_{g(p)} \; \LOGIC{E},\\
& \LOGIC{Extend} \; Y(q) \de Y(x_{f(p)}^{-1}(\pi_{x_{f(p)} \circ f(M)} x_{f(p)}(q))); \\
& Y : \mathfrak{X}(U) , \\
& X = Y \circ f; ; \\
& \forall f : \TYPE{Immersion}(M,N) \. \forall X : \mathfrak{X}_f(M,N)
\. \\ & \kern 1pc 
\. \exists  U  : \TYPE{Open}(f(M)) :  \exists Y \in \mathfrak{X}(U) : X = Y \circ f \square
\\ \\
&\THM{ProperIsEmbedding} :: \forall f : \TYPE{Injective} \; \& \; \TYPE{Immersion} \; \& \; \TYPE{Proper}(M,N) \.
\\ & \kern 1pc 
 \. f : \TYPE{Embedding}(M,N) \\
& \LOGIC{Proof}= \\
& \A f : \TYPE{Injective} \; \& \; \TYPE{Immersion} \; \& \; \TYPE{Proper}(M,N), \\
& \A U : \TYPE{Open}(M), \\
& \A p \in U, \\
&  \TYPE{LocallyCompact}(N)(f(p)) \Rightarrow  \exists  O \in \mathcal{U}(f(p)) : \overline{O} : \TYPE{Compact}(N), \\
& K \de f^{-1}(\overline{O}) , \\
& f : \TYPE{Proper}(M, f(M)) \Rightarrow K : \TYPE{Compact}(M), \\
& f : C(M,f(M)) \Rightarrow f^{-1}(O): \TYPE{Open}(M), \\
&  W_p \de U \cap f^{-1}(O), \\
& f^{-1}(O) \subset U, \\ 
& \THM{EmbeddingMark}(f_{\vert K})(K) \Rightarrow f_{\vert K} : \TYPE{Embedding}(K,f(K)), \\
& {f^{-1}}_{\vert K} :  C(K,f(K))  \Rightarrow f(W) : \TYPE{Open}(f(K)) \Rightarrow \\
& \Rightarrow  \exists V : \TYPE{Open}(N) : f(W) = f(K) \cap V = \overline{O} \cap f(M) \cap V \, \\ 
& f(W_p) \subset O \subset \overline{O}, \\
& f(W_p) = O \cap f(M) \cap V  : \TYPE{Open}(f(M)),  \\
& W_p \de f(W) ; \\
& f(U)_ = \bigcup_{p \in U} W_p \Rightarrow f(U) : \TYPE{Open}(f(M)); \\
&   f : \TYPE{Embedding}(M,N) \; \square
\\ \\
&\TYPE{SmoothlyUniversal} :: \; ?C^\infty(M,N) \\
& f :  \TYPE{SmoothlyUniversal} \iff  \forall S : \TYPE{SManifold} \. \forall  g : S \to M 
\. \\ & \kern 1pc
 \. f \circ g : C^\infty(S,N) \iff g: C^\infty(S,M)
 \\ \\
&\TYPE{WeakEmbedding} = \TYPE{SmoothlyUniversal} \; \& \; \TYPE{Immersion} \; \& \; \TYPE{Injective} (M,N) 
\end{flalign*} 
\newpage
\begin{flalign*}
&\THM{EveryEmbeddingIsWeak} :: \forall f : \TYPE{Embedding}(M,N) \. f : \TYPE{WeakEmbedding}(M,N)
\\
&\LOGIC{Proof} = \\ 
& \A  f : \TYPE{Embedding}(M,N), \\
&  \TYPE{Embedding}(M,N)(f) \to f : \TYPE{Immersion}(M,N)   \As (1), \\
&  \TYPE{Embedding}(M,N)(f) \to f : \TYPE{ISO}_{\mathsf{TOP}}(M,f(M)) \to 
f : \TYPE{ISO}_{\mathsf{SET}}(M,f(M)) \to\\ 
\kern 1pc & \to
f : \TYPE{Injective}(M,N) \As (2) , \\
& \A S : \TYPE{SManifold}, \\
& \A g : S \to M, \\
& \A f \circ g : C^\infty(S,N), \\
& \A p \in S, \\
& A_p \de ( T_{g(p)} f )^\dagger T_p (f \circ g) : \mathcal{L}(T_{p},T_{g(p)}) \\ 
& \A  (U,x) : \TYPE{ChartCentredAt}(g(p)), \\
& \A (V,z) : \TYPE{ChartCentredAt}(p), \\
&  \A  v \in  S^{n-1}, \\
& \lim_{h \to 0} \frac{x(g(z^{-1}(hv)) - x(g(p))}{h} =
\lim_{h \to 0} \frac{x(f^\dagger f g(z^{-1}(hv)) - x(f^\dagger f g(p))}{h} = \\
& \kern 1pc =  D_{g(p)}x( T_{g(p)} f )^\dagger T_p (f \circ g) (D_p z)^{-1} v =  D_{g(p)}x A_p (D_p z)^{-1} v \to \\
& \kern 1pc \to  T_p v = A-pv ;\\
&  T_p = A_p ; \\
&  g : C^\infty(S,M); \\
&  f \circ g : C^\infty(S,N) \to    g : C^\infty(S,M) \As (3), \\
&  \A   g : C^\infty(S,M)  \to f \circ g : C^\infty(S,N) ; \As (4), \\
&  (3,4) \to  f : \TYPE{SmoothlyUniversal}(M,N) \As (5), \\
& (1,2,5) \to  f : \TYPE{WeakEmbedding}(M,N);
\end{flalign*} 
\newpage
\subsection{Immersed submanifolds}
\begin{flalign*}
&\TYPE{ImmersedSubmanifold} :: \prod M : \TYPE{SManifold} \. ?\TYPE{Subset}(M) \\
&S : \TYPE{ImmersedSubmanifold} \iff S :\TYPE{IS} \iff i_M  : \TYPE{Immersion}(S,M) \\
\\ 
&\THM{SmoothThroughImmersion} :: \forall M,N : \TYPE{SManifold} \.  \forall S : \TYPE{IS}(N) \. 
\\  & \kern 1pc \.
\forall f : \mathcal{M}_{\mathsf{TOP}}(M,S) \. i_S \circ f : C^\infty(M,N) \Rightarrow f : C^\infty(M,S)  
\\
& \LOGIC{Proof} =\\
& \A   M,N : \TYPE{SManifold} , \\
& \A  S : \TYPE{IS}(N) , \\
& \A  f :  \mathcal{M}_{\mathsf{TOP}}(M,S), \\
& \A  i_S \circ f : C^\infty(M,N), \\
& \A p  \in S,  \\
& \TYPE{IS}(N)(S) \to i_S : \TYPE{Immersion} \\
& \THM{LocalEmbedding}(i_S,p) \to \exists U \in \mathcal{U}(p) : i_{S|U} : \TYPE{Embedding}  
\E, \\
&    \mathcal{M}_{\mathsf{TOP}}(M,S)(f)(U) \to f^{-1}(U) : \TYPE{Open}(M), \\
&   \THM{EveryEmbeddingIsWeak}(i_{S|U}) \to i_{S|U} : \TYPE{WeakEmbedding}(U,N) \to \\
&  \kern 1pc   \to  i_{S|U} : \TYPE{SmoothlyUniversal}(U,N)  \As (1),       \\
& V \de f^{-1}(U) , \\
&  i_S \circ f : C^\infty(M,N) \to   i_S \circ f_{|V} : C^\infty(V,N) \to_{(1)}  f_{|V} : C^\infty(V,S); \\
& f : C^\infty(V,S) \square
\\ \\
& \THM{SmoothThroughEmbedding} :: \forall M,N : \TYPE{SManifold} \.  \forall S : \TYPE{RegularSubmanifold}(N) \. \\
& \kern 1pc \.  \forall f : M \to S  \. i_S \circ f : C^\infty(M,N) \Rightarrow f : C^\infty(M,S)
\\ 
& \LOGIC{Proof} = \\
&\A  M,N : \TYPE{SManifold}, \\
&\A S : \TYPE{RegularSubmanifold}(N) , \\
&\A f : M \to S , \\
&\A i_S \circ f : C^\infty(M,N), \\
& \TYPE{RegularSubmanifold}(N)(S) \to i_S : \TYPE{Embedding}(S,N), \\
&\THM{EveryEmbeddingIsWeak}(i_{S}) \to i_{S} : \TYPE{WeakEmbedding}(S,N) \to \\
&  \kern 1pc   \to  i_{S} : \TYPE{SmoothlyUniversal}(S,N)  \As (1),       \\
&  i_S \circ f \to_{(1)} f : C^\infty(M,N)  \square \\ 
\\
& \TYPE{WESubmanifold} :: \; ?\TYPE{IS}(M)\\
& S : \TYPE{WESubmanifold} \iff i_S : \TYPE{WeakEmbedding}(S, M)
\\ \\
& \FUNC{SmoothlyConnectedComponent} :: \prod M : \TYPE{SManifold} \. \prod S : \TYPE{Subset}(M). S \to ?S \\
&  \FUNC{SmoothlyConnectedComponent}(x) = C_x(S) \de \{ y \in S : \exists p : \TYPE{SPath}(M)(x,y) : \im p \subset S \}
 \end{flalign*} 
 \newpage 
 \begin{flalign*}
& \FUNC{InitialSubmanifold} :: \prod M : \TYPE{SManifold} \. \dim M \to ??M \\
& \FUNC{InitialSubmanifold}(k)  = W(k) \de \\ 
& \kern 1pc \de \big\{ S : \forall s \in S : \exists (U,x) : \TYPE{ChartCentredAt}(M,s) : x(C_{s}(U \cap S)) = \Reals^k \times \{0\} \big\} 
\\ \\
& \THM{WeakEmbeddingIsInitial} :: \forall I : \TYPE{WeakEmbedding}(S,M) \. I(S) \in W(\dim S) \\
& \LOGIC{Proof} = \\ 
& \A  I : \TYPE{WealEmbedding}(S,M), \\
&  k \de \dim S,  \\
& \A s \in S, \\
& n \de \dim M ,\\
& k = \THM{LocallIdentity}(I) \to \TYPE{ChartCentredAt}(s,S) : \exists (V,y) : \TYPE{ChartCentredAt}( M,I(s)) : \\
& \kern 1pc :  x^{-1}fy = \id \oplus 0  \As (1) \\
& x(U) : \TYPE{Open}(\Reals^d) \to \exists r \in \Reals_{++} :\mathbb{B}^k(0,r)  \subset x(U) \E \; r', \\
& y(V) : \TYPE{Open}(\Reals^d) \to \exists r \in \Reals_{++} : \mathbb{B}^n(0,r)  \subset y(V) \E \; r'', \\
& r \de \min(r',r''), \\
&  A \de x^{-1}\Big(\mathbb{B}^k(0,r)\Big) : \TYPE{Open}(S), \\
&  B \de y^{-1}\Big( \mathbb{B}^n(0,r) \Big) : \TYPE{Open}(M), \\
& (1) \to  I(A) = B \cap I(S) \As (2), \\
&  f \de \Lambda (r,u) \in \mathbb{B}^n(0,r) \. \If  (\rho , u) == 0 \; \Then 0 \; \Else \Bigg(\tan \frac{\pi \rho}{2r} , u \Bigg), \\
& z \de f \circ x : \TYPE{Coordinates}(M,B), \\
& z(I(A)) = \Reals^k \times \{ 0 \}, \\
& \A I(p) : \in I(A), \\
&  L \de \Lambda t \in [0,1] \. x^{-1} \big( t x(s) + (1-t)x(p) \big): \TYPE{SPath}(S)(s,p ), \\
&  P \de I \circ L, \\
&  \im P \subset I(A) \to_{(2)} \im P \subset B \cup I(S) , \\
&  \TYPE{WeakEmbedding}(S,M)(I) \to I : \TYPE{SmoothlyUniversal}(S,M) \to \\
& \kern 1pc \to P : \TYPE{SPath}(M)(I(s),I(p)), \\   
& I(p) \in C_s(B \cup I(S)) ; \\
&  I(A) = C_s(B \cup I(S)) \to z(C_s(B \cup I(S)) = \Reals^k \times \{ 0  \} ; \\
& I(S) \in W(k)  \, \square  
\end{flalign*} 
\newpage
\begin{flalign*}
&\THM{InitialToWeaklyEmbeded} :: \forall M \in \TYPE{SManifold} \.\forall k \in \dim M \. 
\forall S \in W(k) \.
\\ & \kern 1pc 
\. \exists ! \mathcal{A} : \TYPE{Atlas}(S) \. (S, \mathcal{A}) : \TYPE{WESubmanifold}(M) \\
& \LOGIC{Proof} = \\
& \A M : \TYPE{SManifold}, \\
& \A k \in \dim M, \\
& \A S \in W(k), \\
& \A s \in S, \\
& W(k)(S) \to \exists (U.x) \in \TYPE{ChartsCentredAt}(s) \. x( ) = \Reals^k \times \{ 0 \} \\
&  \kern 1pc   \E \; (U_s, x_s) , \\
&  A_s \de C_s(U_s \cap S), \\
&  a_s \de  \pi_{1,\ldots,k}  \circ  x_{|A} ; \\
& \A p,q \in S , \\
&  A_p \cap A_q = (S \cap U_p  \cap U_q ), \\
& x_p \circ x_q^{-1} : \TYPE{Auto}_{\mathsf{MAN}}(U_p \cap U_q) \to a_p \circ a_q^{-1} : \TYPE{Auto}_{\mathsf{MAN}}(A_p \cap A_q) ;\\
& (A, a) : \TYPE{Atlas}(S), \\
&  \A X : \TYPE{SManifold}, \\
&  \A f : X \to S, \\
&  \A  i_S \circ f : C^\infty(X,M), \\
&  \A  p \in  X,  \\
&  V \de f^{-1}(A_{f(p)}) =  ( i_S \circ f)^{-1}(U_{f(p)}) \in \mathcal{U}(p), \\
&  A_{f(p)} : \TYPE{Regular}  \to i_{A_{f(p)}} : \TYPE{SmoothlyUniversal}(A_{f(p)},M) \to \\
&  \kern 1pc \to f_{|V} \in C^\infty(V,S); \\
&  f : C^\infty(X,S);;; \\
&  (S,(A,a)) : \TYPE{WESubmanifold}    , \\
& \A  (B,b) : \TYPE{Atlas}(S) :  (S,(B,b)) : \TYPE{WESubmanifold}, \\
? \ldots
\end{flalign*}
Proof after Riemannian geometry is learned
\newpage
\begin{flalign*}
&\THM{WhitneyImmersion} :: \forall M \in \TYPE{SManifold} : \exists A : \TYPE{Finite} : \TYPE{CompatibleAtlas}(M) \. \\
& \kern 1pc \. \exists I : \TYPE{Immersion} \& \TYPE{Injection}\Big(M,\Reals^{2n + 1} \Big) \\
& \LOGIC{Proof} = \\
& \A  M \in \TYPE{SManifold} : \exists A : \TYPE{Finite} : \TYPE{CompatibleAtlas}(M) \E , \\
& (U,x) \de \FUNC{toList}(A), \\
& N \de \FUNC{length}(U,x), \\
&  V \de \THM{RefinedFiniteCover}(U) : C^\infty(M),  \\
&  O \de \THM{RefinedFiniteCover}(V) : C^\infty(M,\Reals^n),  \\
&  \A i \in N, \\
& f_i \de \FUNC{cutFunction}\big(\overline O_i,   \overline V_i \ \big), \\ 
& \phi_i \de \Lambda p \in M \.  \If p \in U_i \Then  f_i(p) x_i(p) \Else 0  ; \\
&  F \de \bigoplus_{i \in N} f_i \oplus \bigoplus_{i \in N}  \phi_i : C^\infty(M,\Reals^{n + Nn}),\\
&  \A p \in M, \\
&  O : \TYPE{OCover}(M) \to \exists i \in N : p \in O_i \E , \\
& p \in O_i \to  T_p \phi_i = D_p x_i, \\
& x_i : \TYPE{ISO}_{\mathsf{SMAN}}(M,\Reals^n) \to D_p x_i : \TYPE{Invertible} \to T_p \phi_i : \TYPE{Invertivle}, \\
&T_p \phi_i : \TYPE{Invertivle} \to \rank T_p \phi_i = n \to  \rank T_p F = n \to \\
& \to T_p F : \TYPE{Injection} \to F : \TYPE{ImmersionAt}(p);\\
& F : \TYPE{Immersion}(M,\Reals^{n + Nn}) \As (1) , \\
& \A  p, q \in M , \\
& \A F(p) = F(q), \\
&   O : \TYPE{OCover}(M) \to \exists i \in N : p \in O_i \E ,\\
&  p \in O_i \to f_i(p) = 1  \to f_i(q) = 1 \to q \in O_i , \\
&  q \in O_i \to \phi_i(q) = x_i(q) \As (2), \\
&  p \in O_i \to \phi_(p) = x_i(p) \As (3), \\
& (2,3) \to  x_i(q) = x_i(p) \As (4), \\
&  x_i : \TYPE{Injection} \to_{(4)}  p = q ;; \\
& F : \TYPE{Injection}(A, \Reals^{n +Nn}) \As (2), \\
& \A  n + Nn > 2n + 1, \\
& \mathfrak{I} \de \Lambda k \in (n(N -1) - 1)_+ \. \\
& \kern 1pc \. \exists L : \TYPE{Subspace}(\Reals^{n+Nn}) : \pi_L \circ F : \TYPE{Immersion} \& \TYPE{Injective}(M, \Reals^{n+Nn-k}), \\
& (1,2) \to \mathfrak{I}(0), \\
& \A k \in (n(N -1) - 2)_{+}, \\
& \A \mathfrak{I}(k) \extract L : \TYPE{Subspace}(\Reals^{n+Nn}) : \codim V = k, \\
& I \de \pi_L \circ F, \\
& d \de nN + n - k, \\
\end{flalign*}
\newpage
\begin{flalign*}
& h \de \Lambda p \in M \. \Lambda q \in M \. t \in \Reals \. t(I(p) - I(q)) : C^\infty(M\times M \times t, \Reals^d), \\
&  \A  p \in M \\
&  D_{(t,p,q)}h = [I(p) - I(q),tD_p I,tD_q I] \to D_{(0,p,p)} = 0 \to             \\
& \to (0,p,p) : \TYPE{Critical}(h) \As (3), \\
& \THM{Taylor2}(h)(3) \to \exists (Y,y) : \TYPE{ChartCentredAt}(M,p) :  \forall t \in \Reals \. \forall q,q' \in Y \. \\ 
&  \kern 1pc \. h(t',q,q') = h(0,p,p) + D^2_p h (t,y(q) - y(p),y(q') - y(p))^2 \E, \\
&  D^2_{(t,p,q)} h = \left[ 
\begin{array}{ccc}
 & D_p I & D_q I \\
 D_p I & t D^2_p  & \\
 D_q I &  & t D^2_q 
\end{array}
\right]  
\to 
D^2_{(0,p,p)} h = \left[ 
\begin{array}{ccc}
 & D_p I & D_p I \\
 D_p I &    & \\
 D_p I &  &   
\end{array}
\right] \to \\ 
& \forall q,q \in Y \. h(t,q,q')  = 2t'\Big(D_pI\big(y(q) - y(p)\big) - D_pI\big(y(q') - y(p) \big) \Big) ;
\\  & \im D I \subset \im h  \As (*), \\
&   d > 2n + 1 \to){(*)} \exists v \in \Reals^d : v \not \in \im h : v \not \in \im D I         \\
& h(\ldots,\ldots,0) = 0 \to v \neq 0, \\
& L_{+} \de \bot z, \\
& I_{+} \de \pi_{L_{+}} \circ I, \\
& \A p,q \in N,\\
& \A I_{+}(p) = I_{+}(q) \to \exists a \in \Reals  \. I(p) -  I(q) = av \E, \\
& \A a \neq 0 \to h(p,q,a^{-1}) = v \to \bot ; \\
& a = 0 \to I(p) = I(q) \As (3), \\
& I : \TYPE{Injective}(M, \Reals^d) \to_{(3)} p = q ; \\
& I_+ : \TYPE{Injective}(M, \Reals^{d+1}) \As (3), \\
& \A p \in M , \\
& \A w \in T_p M : D_p I_+(w) = 0 , \\
&  D_p I_+(w) =  D_{p} \pi_{L_+} I(w) = \pi_{L_+} D_p I (w) \As (4), \\
&  D_p I (w) : \TYPE{Injection} \to_{(4)} \exists a \in \Reals : D_p I (w) = av \E , \\
&  \A a \neq 0, \\
&  D_p U (a^{-1}w) = b \to \bot ; \\
&  a = 0 \to D_p I (w) \to  w = 0 ;; \\
&   D_p I_+ : \TYPE{Injection} \As (4) , \\
& (3,4) \to \mathfrak{I}(k + 1);; \\
& \mathfrak{I}( n(N -1) - 1) \to \THM{WhitneyImmersion}(M) \square
\end{flalign*}
\newpage
\section{Submersions}
\begin{flalign*}
&\TYPE{SubmersionAt} :: \prod M : \TYPE{Manifold}  \. M \to ?C^\infty(M,N) \\
& f : \TYPE{Submersion}(p) \iff   T_p f : \TYPE{Surjective}(T_p M, T_{f(p)} M) \\
\\ 
& \TYPE{Submersion} :: \; ?C^\infty(M,N) \\
& f : \TYPE{Submersion} \iff \forall p \in M \. f : \TYPE{ImmersionAt}(p) \\
\\
&  \THM{LocalProjection} :: \forall f : \TYPE{Submersion}(M,N) \. \forall p \in M :  
\\ & \kern 1pc  \exists  (U,x):  \TYPE{ChartCentredAt}(M,p) : \exists (V,y): \TYPE{ChartCentredAt}(N,f(p))  : \\ & \kern 1pc  : \exists L : \TYPE{Subspace}\big( \Reals^n ) : y \circ f \circ x^{-1} =  \pi_{L|x(U)}
\\ \\
& \TYPE{Fiber} :: \TYPE{Submersion}(M,N) \to ??M \\
& F : \TYPE{Fiber}(f) \iff \exists  q \in N \. F = f^{-1}(q)     
\\ \\
& \THM{SubmersionIsOpen} :: \forall f : \TYPE{Submersion}(M,N) \. f : \TYPE{OpenMap}(M,N) \\
&   \LOGIC{Proof} = \\
&  \A f : \TYPE{Sumersion}(M,N) , \\
& \A  U : \TYPE{Open}(M), \\
& \A p \in U, \\
& \big( (X,x), (Y,y), L \big) \de  \THM{LocalProjection}(f,p), \\
& V_p \de U \cap X : \TYPE{Open}(), \\
&  x : \TYPE{OpenMap}(M,\Reals^m) \to x(V_) : \TYPE{Open}(\Reals^m), \\
& \pi_L : \TYPE{OpenMap}(\Reals^m,\Reals^n) \to \pi_L x(V_p) : \TYPE{Open}(\Reals^n), \\
&  y : \TYPE{Continuous}(\Reals^n,N) \to y^{-1}\pi_L x(V_p) : \TYPE{Open}(N), \\
& f_{|X} = y^{-1}\pi_L x \to  f(V_p) : \TYPE{Open}(N); \\
& f(U) = \bigcup_{p \in U} f(V_p) \to  f(U) : \TYPE{Open}(N); \\
& f : \TYPE{OpenMap}(M,N) \; \square
\\ \\
\end{flalign*} 
\newpage
\begin{flalign*}
& \THM{LocalSectionOfManifold} :: \forall P : \TYPE{Submersion}(M,N) \. \forall p \in M  \. \\
& \kern 1pc \.  \exists V : \TYPE{Open}(N) : \exists \sigma : \TYPE{LocalSection}(P,V) : p \in \im \sigma
\\
& \LOGIC{Proof} = \\
& \A  P : \TYPE{Submersion}(M,N),  \\
& \A  p \in M, \\
& ((U,x),(V,y),L) \de   \THM{LocalProjection}(P,p), \\
&  u = \pi_{\bot L} x(p), \\
&  \sigma \de  y (\Lambda v \in y(V) \. v \oplus_{L} u)x^{-1}, \\
& \A  q \in V, \\
& q \sigma P  = q \big(y  (\Lambda v \in y(V) \. v \oplus_{L} u)x^{-1} x \pi_L y^{-1} \big) =  p ; \\
& \sigma : \TYPE{LocalSection}(P,V), \\
& P(p)\sigma = pP\sigma  = p x \pi_L  ( \Lambda v \in y(V) \. v \oplus_{L} u) x^{-1}
=   
\\ & \kern 1pc
   p x  \pi_L (\Lambda v \in y(V) \.  v \oplus \pi_{\bot L} x(p) ) x^{-1} = 
 (\pi_L x(p) \oplus \pi_{\bot L} x(p)) x^{-1} =
 \\ &\kern 1pc =  
  x(p) x^{-1} = p \to p \in \im \sigma ;; \square
\\ \\
&\THM{UniversalSubmersion} :: \forall  P : \TYPE{Surjection}\&\TYPE{Submersion}(M,N) \. \forall T : \TYPE{SManifold} \.
\\ & \kern 1pc \. \forall f : N \to T \. f : C^\infty(N,M) \iff  Pf : C^\infty(M,T) 
\\  
& \LOGIC{Proof} = \\ 
& \A   P : \TYPE{Submersion}(M,N), \\
& \A  T : \TYPE{SManifold}(N,T), \\
& \A  f : N \to T , \\
& \A  Pf : C^\infty(M,T), \\
& \A q \in N, \\
& p \de \TYPE{Surjection}(M,N)(P)(q) \to  q = pP, \\
& (\sigma, U_q) \de \THM{LocalSectionOfSubmersion}(P,p), \\
&  \TYPE{LocalSection}(P,U_q)(\sigma)  \to  f_{|U_q} =  \sigma P f \As (1), \\
&   \sigma : C^\infty(N,M), Pf : C^\infty(M,T), (1) \to  f_{|U_p} : C^\infty(U_q,T); \\
&  | : \forall q \in N \. \exists U \in \mathcal{U}(q) \. f_{|U} : C^\infty(U,T)   \to \\
&  \kern 1pc  \to f : C^\infty(N, T) ;;; \square 
\end{flalign*}
\newpage
\begin{flalign*}
& \THM{FiberDecomposition} :: \forall P : \TYPE{Submersion}\&\TYPE{Surjective}(M,N) \. \forall  g : C^\infty(M,T) : \\
& \kern 1pc   : \forall F : \TYPE{Fiber}(P) \.  g_{|F} : \TYPE{Constant} \. \exists! f : C^\infty(N,T) :
g = Pf  \\
& \LOGIC{Proof} = \\
& \A  P : \TYPE{Submersion}\&\TYPE{Surjective}(M,N), \\
& \A  g  : C^\infty(M,T):  \forall F : \TYPE{Fiber}(P) \.  g_{|F} : \TYPE{Constant}, \\
& \A q \in  N, \\ 
& \TYPE{Surjective}(M,N)(P)(q) \to P^{-1}(q) \neq \emptyset \As (1), \\
&  P^{-1}(q) : \TYPE {Fiber}(P) \to_{(1)}  g_{|P^{-1}(q)} : \TYPE{Constant}, \\
&  c \de \TYPE{Constant}(g_{|P^{-1}(q)}), \\
&  f(q) \de c ; \\
& f : N \to T , \\ 
& \THM{UniversalSubmersion}(P)(T,f)(g) \to f \in C^\infty(N,T), \\
& \A h \in C^\infty(N,T) : g =Ph : h \neq f, \\
& f \neq p  \to  \exists q \in N \.  f(q) \ne h(q) \E, \\
&  \TYPE{Surjective}(M,N)(P)(q) \to P^{-1}(q) \neq \emptyset \As (1), \\
&  P^{-1}(q) : \TYPE {Fiber}(P) \to_{(1)}  g_{|P^{-1}(q)} : \TYPE{Constant}, \\
&  c \de \TYPE{Constant}(g_{|P^{-1}(q)}), \\
&  f(q) = c =h(q) \to \bot ; \\
&  \exists! f : C^\infty(N,T) :g = Pf  ;; \square
\\ \\
& \THM{SubmersionMark} :: \forall M : \TYPE{SndCtble} \& \TYPE{SManifold} \. 
\\ & \kern 1pc \.
\forall f \in C^\infty(M,N):
\TYPE{Surjection}\& \TYPE{ConstantRank}(M,N)  \. f : \TYPE{Submersion} 
\end{flalign*} 
\end{document}
